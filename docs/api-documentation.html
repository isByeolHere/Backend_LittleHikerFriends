<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Little Hiker Friends API ë¬¸ì„œ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .endpoint {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-right: 10px;
        }
        .get { background: #28a745; color: white; }
        .post { background: #007bff; color: white; }
        .put { background: #ffc107; color: black; }
        .delete { background: #dc3545; color: white; }
        .code {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
        }
        .swift-code {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .table th {
            background: #f8f9fa;
            font-weight: 600;
        }
        .section {
            margin: 40px 0;
        }
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        .toc li {
            margin: 5px 0;
        }
        .toc a {
            text-decoration: none;
            color: #007bff;
        }
        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ”ï¸ Little Hiker Friends API</h1>
        <p>ë“±ì‚° ê·¸ë£¹ ìœ„ì¹˜ ê³µìœ  ë° ë©”ì‹œì§• API ë¬¸ì„œ</p>
        <p><strong>Base URL:</strong> <code>http://localhost:8080/api</code></p>
    </div>

    <div class="toc">
        <h2>ğŸ“‹ ëª©ì°¨</h2>
        <ul>
            <li><a href="#auth">ğŸ” ì¸ì¦ API</a></li>
            <li><a href="#location">ğŸ“ ìœ„ì¹˜ API</a></li>
            <li><a href="#hike">ğŸ”ï¸ ë“±ì‚° ëª¨ì„ API</a></li>
            <li><a href="#message">ğŸ’¬ ë©”ì‹œì§€ API</a></li>
            <li><a href="#swift-examples">ğŸ“± Swift ì½”ë“œ ì˜ˆì‹œ</a></li>
        </ul>
    </div>

    <div class="section" id="auth">
        <h2>ğŸ” ì¸ì¦ API</h2>
        
        <div class="endpoint">
            <h3><span class="method post">POST</span> /auth/login</h3>
            <p><strong>ì„¤ëª…:</strong> ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸</p>
            
            <h4>ìš”ì²­ Body:</h4>
            <div class="code">
{
  "email": "user@example.com",
  "password": "password123"
}
            </div>
            
            <h4>ì‘ë‹µ:</h4>
            <div class="code">
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 123,
    "email": "user@example.com",
    "nickname": "ë“±ì‚°ëŸ¬ë²„",
    "imageUrl": "https://example.com/profile.jpg",
    "provider": "EMAIL"
  }
}
            </div>
        </div>
    </div>

    <div class="section" id="location">
        <h2>ğŸ“ ìœ„ì¹˜ API</h2>
        
        <div class="endpoint">
            <h3><span class="method post">POST</span> /locations</h3>
            <p><strong>ì„¤ëª…:</strong> ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ ì—…ë°ì´íŠ¸</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>ìš”ì²­ Body:</h4>
            <div class="code">
{
  "latitude": 37.5665,
  "longitude": 126.9780,
  "altitude": 123.5
}
            </div>
            
            <h4>ì‘ë‹µ:</h4>
            <div class="code">
{
  "id": 1,
  "userId": 123,
  "userNickname": "ë“±ì‚°ëŸ¬ë²„",
  "latitude": 37.5665,
  "longitude": 126.9780,
  "altitude": 123.5,
  "timestamp": "2025-08-15T10:30:00"
}
            </div>
        </div>

        <div class="endpoint">
            <h3><span class="method get">GET</span> /locations/hikes/{hikeId}/members</h3>
            <p><strong>ì„¤ëª…:</strong> ë“±ì‚° ëª¨ì„ ë©¤ë²„ë“¤ì˜ ìµœì‹  ìœ„ì¹˜ ì¡°íšŒ</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>Path Parameters:</h4>
            <table class="table">
                <tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
                <tr><td>hikeId</td><td>integer</td><td>ë“±ì‚° ëª¨ì„ ID</td><td>1</td></tr>
            </table>
            
            <h4>ì‘ë‹µ:</h4>
            <div class="code">
[
  {
    "id": 1,
    "userId": 123,
    "userNickname": "ë“±ì‚°ëŸ¬ë²„",
    "latitude": 37.5665,
    "longitude": 126.9780,
    "altitude": 123.5,
    "timestamp": "2025-08-15T10:30:00"
  },
  {
    "id": 2,
    "userId": 124,
    "userNickname": "ì‚°ì•…ì¸",
    "latitude": 37.5670,
    "longitude": 126.9785,
    "altitude": 125.0,
    "timestamp": "2025-08-15T10:31:00"
  }
]
            </div>
        </div>

        <div class="endpoint">
            <h3><span class="method get">GET</span> /locations/nearby</h3>
            <p><strong>ì„¤ëª…:</strong> íŠ¹ì • ì§€ì  ì£¼ë³€ì˜ ìœ„ì¹˜ë“¤ ì¡°íšŒ</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>Query Parameters:</h4>
            <table class="table">
                <tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>í•„ìˆ˜</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
                <tr><td>latitude</td><td>double</td><td>âœ…</td><td>ìœ„ë„</td><td>37.5665</td></tr>
                <tr><td>longitude</td><td>double</td><td>âœ…</td><td>ê²½ë„</td><td>126.9780</td></tr>
                <tr><td>radiusMeters</td><td>double</td><td>âŒ</td><td>ê²€ìƒ‰ ë°˜ê²½ (ë¯¸í„°)</td><td>1000</td></tr>
            </table>
        </div>
    </div>

    <div class="section" id="hike">
        <h2>ğŸ”ï¸ ë“±ì‚° ëª¨ì„ API</h2>
        
        <div class="endpoint">
            <h3><span class="method get">GET</span> /hikes</h3>
            <p><strong>ì„¤ëª…:</strong> ë“±ì‚° ëª¨ì„ ëª©ë¡ ì¡°íšŒ</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>Query Parameters:</h4>
            <table class="table">
                <tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>í•„ìˆ˜</th><th>ì„¤ëª…</th><th>ì˜ˆì‹œ</th></tr>
                <tr><td>status</td><td>string</td><td>âŒ</td><td>ìƒíƒœ í•„í„° (PLANNED, IN_PROGRESS, COMPLETED)</td><td>PLANNED</td></tr>
                <tr><td>mountainName</td><td>string</td><td>âŒ</td><td>ì‚° ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰</td><td>í•œë¼ì‚°</td></tr>
            </table>
        </div>

        <div class="endpoint">
            <h3><span class="method post">POST</span> /hikes</h3>
            <p><strong>ì„¤ëª…:</strong> ìƒˆë¡œìš´ ë“±ì‚° ëª¨ì„ ìƒì„±</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>ìš”ì²­ Body:</h4>
            <div class="code">
{
  "name": "í•œë¼ì‚° ì •ìƒ ë„ì „",
  "mountainName": "í•œë¼ì‚°",
  "startAt": "2025-08-20T09:00:00"
}
            </div>
        </div>
    </div>

    <div class="section" id="message">
        <h2>ğŸ’¬ ë©”ì‹œì§€ API</h2>
        
        <div class="endpoint">
            <h3><span class="method get">GET</span> /hikes/{hikeId}/messages</h3>
            <p><strong>ì„¤ëª…:</strong> ë“±ì‚° ëª¨ì„ì˜ ë©”ì‹œì§€ë“¤ ì¡°íšŒ (í˜ì´ì§• ì§€ì›)</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>Query Parameters:</h4>
            <table class="table">
                <tr><th>ì´ë¦„</th><th>íƒ€ì…</th><th>í•„ìˆ˜</th><th>ì„¤ëª…</th><th>ê¸°ë³¸ê°’</th></tr>
                <tr><td>page</td><td>integer</td><td>âŒ</td><td>í˜ì´ì§€ ë²ˆí˜¸</td><td>0</td></tr>
                <tr><td>size</td><td>integer</td><td>âŒ</td><td>í˜ì´ì§€ í¬ê¸°</td><td>20</td></tr>
            </table>
        </div>

        <div class="endpoint">
            <h3><span class="method post">POST</span> /hikes/{hikeId}/messages</h3>
            <p><strong>ì„¤ëª…:</strong> ë“±ì‚° ëª¨ì„ì— ë©”ì‹œì§€ ì „ì†¡</p>
            <p><strong>ì¸ì¦:</strong> Bearer Token í•„ìš”</p>
            
            <h4>ìš”ì²­ Body (ì¼ë°˜ ë©”ì‹œì§€):</h4>
            <div class="code">
{
  "content": "ì•ˆë…•í•˜ì„¸ìš”! ë“±ì‚° ì¤€ë¹„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤."
}
            </div>
            
            <h4>ìš”ì²­ Body (ìœ„ì¹˜ ê¸°ë°˜ ë©”ì‹œì§€):</h4>
            <div class="code">
{
  "content": "ì—¬ê¸° ê²½ì¹˜ê°€ ì •ë§ ì¢‹ë„¤ìš”!",
  "latitude": 37.5665,
  "longitude": 126.9780
}
            </div>
        </div>
    </div>

    <div class="section" id="swift-examples">
        <h2>ğŸ“± Swift ì½”ë“œ ì˜ˆì‹œ</h2>
        
        <h3>1. ìœ„ì¹˜ ì—…ë°ì´íŠ¸</h3>
        <div class="swift-code">
<span style="color: #569cd6;">struct</span> <span style="color: #4ec9b0;">LocationRequest</span>: <span style="color: #4ec9b0;">Codable</span> {
    <span style="color: #569cd6;">let</span> latitude: <span style="color: #4ec9b0;">Double</span>
    <span style="color: #569cd6;">let</span> longitude: <span style="color: #4ec9b0;">Double</span>
    <span style="color: #569cd6;">let</span> altitude: <span style="color: #4ec9b0;">Double</span>?
}

<span style="color: #569cd6;">func</span> updateLocation(latitude: <span style="color: #4ec9b0;">Double</span>, longitude: <span style="color: #4ec9b0;">Double</span>, altitude: <span style="color: #4ec9b0;">Double</span>?) {
    <span style="color: #569cd6;">let</span> url = <span style="color: #4ec9b0;">URL</span>(string: <span style="color: #ce9178;">"http://localhost:8080/api/locations"</span>)!
    <span style="color: #569cd6;">var</span> request = <span style="color: #4ec9b0;">URLRequest</span>(url: url)
    request.httpMethod = <span style="color: #ce9178;">"POST"</span>
    request.setValue(<span style="color: #ce9178;">"application/json"</span>, forHTTPHeaderField: <span style="color: #ce9178;">"Content-Type"</span>)
    request.setValue(<span style="color: #ce9178;">"Bearer YOUR_TOKEN"</span>, forHTTPHeaderField: <span style="color: #ce9178;">"Authorization"</span>)
    
    <span style="color: #569cd6;">let</span> locationData = <span style="color: #4ec9b0;">LocationRequest</span>(
        latitude: latitude,
        longitude: longitude,
        altitude: altitude
    )
    
    <span style="color: #569cd6;">do</span> {
        request.httpBody = <span style="color: #569cd6;">try</span> <span style="color: #4ec9b0;">JSONEncoder</span>().encode(locationData)
        
        <span style="color: #4ec9b0;">URLSession</span>.shared.dataTask(with: request) { data, response, error <span style="color: #569cd6;">in</span>
            <span style="color: #608b4e;">// ì‘ë‹µ ì²˜ë¦¬</span>
        }.resume()
    } <span style="color: #569cd6;">catch</span> {
        print(<span style="color: #ce9178;">"ì¸ì½”ë”© ì—ëŸ¬: \(error)"</span>)
    }
}
        </div>

        <h3>2. ë“±ì‚° ëª¨ì„ ë©¤ë²„ ìœ„ì¹˜ ì¡°íšŒ</h3>
        <div class="swift-code">
<span style="color: #569cd6;">func</span> getHikeMembersLocations(hikeId: <span style="color: #4ec9b0;">Int</span>, completion: <span style="color: #569cd6;">@escaping</span> ([<span style="color: #4ec9b0;">LocationResponse</span>]) -> <span style="color: #4ec9b0;">Void</span>) {
    <span style="color: #569cd6;">let</span> url = <span style="color: #4ec9b0;">URL</span>(string: <span style="color: #ce9178;">"http://localhost:8080/api/locations/hikes/\(hikeId)/members"</span>)!
    <span style="color: #569cd6;">var</span> request = <span style="color: #4ec9b0;">URLRequest</span>(url: url)
    request.setValue(<span style="color: #ce9178;">"Bearer YOUR_TOKEN"</span>, forHTTPHeaderField: <span style="color: #ce9178;">"Authorization"</span>)
    
    <span style="color: #4ec9b0;">URLSession</span>.shared.dataTask(with: request) { data, response, error <span style="color: #569cd6;">in</span>
        <span style="color: #569cd6;">if</span> <span style="color: #569cd6;">let</span> data = data {
            <span style="color: #569cd6;">do</span> {
                <span style="color: #569cd6;">let</span> locations = <span style="color: #569cd6;">try</span> <span style="color: #4ec9b0;">JSONDecoder</span>().decode([<span style="color: #4ec9b0;">LocationResponse</span>].<span style="color: #569cd6;">self</span>, from: data)
                <span style="color: #4ec9b0;">DispatchQueue</span>.main.async {
                    completion(locations)
                }
            } <span style="color: #569cd6;">catch</span> {
                print(<span style="color: #ce9178;">"ë””ì½”ë”© ì—ëŸ¬: \(error)"</span>)
            }
        }
    }.resume()
}
        </div>
    </div>

    <div style="text-align: center; margin-top: 50px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
        <p><strong>ğŸ“š ë” ìì„¸í•œ ì •ë³´ëŠ” Swagger UIì—ì„œ í™•ì¸í•˜ì„¸ìš”!</strong></p>
        <p>ì„œë²„ ì‹¤í–‰ í›„: <a href="http://localhost:8080/swagger-ui.html" target="_blank">http://localhost:8080/swagger-ui.html</a></p>
    </div>
</body>
</html>
